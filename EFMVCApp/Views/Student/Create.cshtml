@model Model.Student

@{
    ViewBag.Title = "新增学生";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section styles{
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <link href="~/bootstrapTable/css/bootstrap-table.css" rel="stylesheet" />
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        .mt {
            margin-top: 10px;
        }

        .ml {
            margin-left: 10px;
        }
        .field-validation-error {
            color:red;
        }
    </style>
}

@using (Ajax.BeginForm("Create", "Student", new AjaxOptions { HttpMethod = "post", OnSuccess = "success" }, new { @class = "form-horizontal" }))
{
    @Html.AntiForgeryToken()
    <div class="form-group mt">
        @Html.LabelFor(model => model.Name, new { @class = "col-xs-4 control-label text-right" })
        <div class="col-xs-4">
            @Html.TextBoxFor(model => model.Name, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Name)
        </div>
    </div>
    <div class="form-group mt">
        @Html.LabelFor(model => model.Age, new { @class = "col-xs-4 control-label text-right" })
        <div class="col-xs-4">
            @Html.TextBoxFor(model => model.Age, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Age)
        </div>
    </div>
    <div class="form-group mt">
        @Html.LabelFor(model => model.Sex, new { @class = "col-xs-4 control-label text-right" })
        <div class="col-xs-4">
            @Html.DropDownListFor(model => model.Sex, (List<SelectListItem>)ViewBag.SexList, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Sex)
        </div>
    </div>


    <div class="form-group mt">
        @Html.LabelFor(model => model.Chinese, new { @class = "col-xs-4 control-label text-right" })
        <div class="col-xs-4">
            @Html.TextBoxFor(model => model.Chinese, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Chinese)
        </div>
    </div>
    <div class="form-group mt">
        @Html.LabelFor(model => model.Math, new { @class = "col-xs-4 control-label text-right" })
        <div class="col-xs-4">
            @Html.TextBoxFor(model => model.Math, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Math)
        </div>
    </div>
    <div class="form-group mt">
        @Html.LabelFor(model => model.English, new { @class = "col-xs-4 control-label text-right" })
        <div class="col-xs-4">
            @Html.TextBoxFor(model => model.English, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.English)
        </div>
    </div>


    <div class="form-group">
        <div class="text-center">
            <button type="submit" class="btn btn-success"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>&nbsp;&nbsp;保存</button>&nbsp;&nbsp;
            <button type="button" class="btn btn-warning" onclick="back()"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span>&nbsp;&nbsp;取消</button>
        </div>
    </div>
}



@section scripts{
    <script src="~/Scripts/bootstrap.min.js"></script>
    <script src="~/bootstrapTable/js/bootstrap-table.min.js"></script>
    <script src="~/bootstrapTable/js/bootstrap-table-zh-CN.min.js"></script>
    <script src="~/layer/layer.js"></script>
    <script>
  
        function success(data) {
            if (data.code == "1") {
                parent.layer.closeAll();
                parent.$table.bootstrapTable('refresh');
                parent.layer.msg(data.msg, { icon: 6 });
            } else {
                parent.layer.msg(data.msg, { icon: 2 });
            }

        }

        function back() {
            parent.layer.closeAll();
        }
    </script>
}